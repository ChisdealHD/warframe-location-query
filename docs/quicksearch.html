<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"lib_ComponentHandler.js.html":{"id":"lib_ComponentHandler.js.html","title":"Source: lib/ComponentHandler.js","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Source: lib/ComponentHandler.js 'use strict'; const md = require('node-md-config'); const PrimePart = require('./lib/Prime.js'); const Relic = require('./lib/Relic.js'); /** * Describe a handler for creating component objects. * Presently, these consist of PrimeParts and Relics. */ class ComponentHandler { /** * @param {Object} Data to construct objects with */ constructor(data) { /** * Array of component objects * @type {Array&lt;Item&gt;} */ this.components = []; const self = this; if (typeof data !== 'undefined' &amp;&amp; data != null) { data.forEach((reliquary) =&gt; { const primeReg = /prime\\s?parts?/i; const relicReg = /relics?/i; if (primeReg.test(reliquary.type)) { self.components.push(new PrimePart(reliquary)); } else if (relicReg.test(reliquary.type)) { self.components.push(new Relic(reliquary.component, reliquary.location)); } }); } } /** * String representation of the ComponentHandler * @returns {string} a stringified list of components created by the component handler. */ toString() { let componentString = md.codeMulti; const maxLen = 4; const listToJoin = []; this.components.forEach((component) =&gt; { if (component.type === 'Relic' &amp;&amp; listToJoin.length &gt;= 1) { // skip } else { listToJoin.push(component); } }); componentString += listToJoin.slice(0, maxLen).join(md.doubleReturn); if (componentString === md.codeMulti) { componentString += 'Operator, no relics available for that query.'; } if (this.components.length &gt; maxLen) { componentString += `${md.doubleReturn}Your query returned more results than I can display, operator. Refine your search for more accurate results.`; } componentString += md.blockEnd; return componentString; } /** * Array of component strings generated by this ComponentHandler * @returns {Array&lt;string&gt;} a list of string representations of results from the query */ toStringList() { const componentStringList = []; const maxLen = 4; this.components.forEach((component) =&gt; { if (!(component.type === 'Relic' &amp;&amp; componentStringList.length &gt;= 3)) { const compStr = component.toString(); componentStringList.push(compStr); } }); if (componentStringList.length &lt; 1) { componentStringList.push('Operator, no relics available for that query.'); } if (this.components.length &gt; maxLen) { componentStringList.push('Your query returned more results than I can display, operator. Refine your search for more accurate results.'); } return componentStringList; } /** * Array of components generated by this ComponentHandler * @returns {Array&lt;Item&gt;} an array of components generated by this ComponentHandler */ getAll() { return this.components; } } module.exports = ComponentHandler; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:25 using the DocStrap template. "},"lib_lib_Item.js.html":{"id":"lib_lib_Item.js.html","title":"Source: lib/lib/Item.js","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Source: lib/lib/Item.js 'use strict'; /** * Represents a generic object from the json at http://xenogelion.com/Hidden/Relics.json */ class Item { /** * @param {Object} data The object data specifying information */ constructor(data) { this.component = data.component; } /** * Returns a string representation of the object * @returns {string} */ toString() { return `component: ${this.component}`; } } module.exports = Item; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Source: index.js 'use strict'; const md = require('node-md-config'); const jsonQuery = require('json-query'); const Cache = require('json-fetch-cache'); const ComponentHandler = require('./src/ComponentHandler.js'); const url = 'http://xenogelion.com/Hidden/Relics.json'; const maxCacheLength = process.env.LOCATION_MAX_CACHED_TIME || 60000; /** * Describes a query against the location data at http://xenogelion.com/Hidden/Relics.json */ class LocationQuery { /** * Initialize Location query object, create the initial cache of data. */ constructor() { this.cache = new Cache(url, maxCacheLength); } /** * Get the locations for a component based on the desired query. * @param {string} query Component query to search for the desired component with. * @returns {Promise&lt;Array&lt;String&gt;&gt;} */ getLocationsForComponent(query) { return new Promise((resolve, reject) =&gt; { const defaultString = `${md.codeMulti}Operator, there is no such item location available.${md.blockEnd}`; this.cache.getData() .then((dataCache) =&gt; { const results = jsonQuery(`components[*component~/${query}/i]`, { data: dataCache, allowRegexp: true, }); if (typeof results.value === 'undefined' || results == null) { reject(new Error('No value for given query - LocationQuery#getLocationsForComponent' , 'warframe-location-query/index.js', 27)); } const componentHandler = new ComponentHandler(results.value); resolve(componentHandler.toStringList()); }) .catch((err) =&gt; { resolve(defaultString); reject(err); }); }); } } module.exports = LocationQuery; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"lib_lib_Relic.js.html":{"id":"lib_lib_Relic.js.html","title":"Source: lib/lib/Relic.js","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Source: lib/lib/Relic.js 'use strict'; const md = require('node-md-config'); const toTitleCase = require('./_utils.js').toTitleCase; const Item = require('./Item.js'); /** * Pad the location string to be a uniform width under monospace situations * @param {string} locationString the base location string to pad * @returns {string} the padded location string */ function padLocation(locationString) { let str; if (locationString.length &lt; 8) { str = padLocation(`${locationString} `); } else { str = locationString; } return str; } /** * Create locations for the relic from a given json * @param {Object} locations * @returns {Array&lt;string&gt;} Array of location strings */ function locationsFromJson(locations) { const locListReturn = []; for (const loc of locations) { const location = `${padLocation(loc)} | `; const locAray = loc; const tokens = []; for (const subLoc of locAray) { if (subLoc[1] === '') { tokens.push(subLoc[0]); } else { tokens.push(`${subLoc[0]} (${subLoc[1].toLowerCase()})`); } } locListReturn.push(location + tokens.join(', ')); } return locListReturn; } /** * Describes a Relic Item */ class Relic extends Item { /** * @param {Object} data JSON object containing data about this Relic */ constructor(data) { super(); const relicIsVaulted = data.locations === ''; /** * The component string information, including whether or not it's vaulted * @type {string} */ this.component = `${toTitleCase(data.component)}${(relicIsVaulted ? ' - Vaulted' : '')}`; /** * List of relic locations, if the relic is vaulted, it's a singleton list with just 'Prime Vault' included * @type {Array&lt;string&gt;} */ this.locations = relicIsVaulted ? ['Prime Vault'] : locationsFromJson(data.locations); /** * Type of the Item, will always be relic for Relic objects * @type {string} */ this.type = 'Relic'; } /** * Get the location string * @returns {string} */ get location() { return this.locations.join(`,${md.lineEnd}${extraSpace}`); } /** * String representation of Relic * @returns {string} */ toString() { const extraSpace = ' '; return `${this.name}: ${md.lineEnd}${extraSpace}${location}`; } } module.exports = Relic; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"lib_lib_Prime.js.html":{"id":"lib_lib_Prime.js.html","title":"Source: lib/lib/Prime.js","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Source: lib/lib/Prime.js 'use strict'; const md = require('node-md-config'); const Item = require('./Item.js'); const RelicSort = require('./_utils.js').relicSort; /** * Describes a PrimePart Item */ class PrimePart extends Item { /** * @param {Object} data JSON object containing data about this Prime Part */ constructor(data) { super(data); this.component = data.component; this.ducats = typeof data.ducats !== 'undefined' ? data.ducats : '0'; this.locations = data.location; this.type = 'Prime Part'; } /** * Add a location to this PrimePart's list of locations * @param {string} locationToAdd */ addLocation(locationToAdd) { const self = this; let locationInLocations = false; self.locations.forEach((existingLocation) =&gt; { if ((locationToAdd.toLowerCase() === existingLocation.toLowerCase())) { locationInLocations = true; } }); if (!locationInLocations) { self.locations.push(locationToAdd); } } /** * Add all locations from an array to the locations array * @param {Array&lt;string&gt;} locations locations to add */ addAll(locations) { for (const location of locations) { if (location) { this.addLocation(location); } } } /** * String representation of this PrimePart * @returns {string} string of this PrimePart */ toString() { const extraSpace = ' '; return `${this.component} worth ${this.ducats}: ${md.lineEnd}${extraSpace}${this.locations.sort(RelicSort).join(`,${md.lineEnd}${extraSpace}`)}`; } } module.exports = PrimePart; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Global Methods locationsFromJson(locations) Create locations for the relic from a given json Parameters: Name Type Description locations Object Source: lib/lib/Relic.js, line 27 Returns: Array of location strings Type Array.&lt;string&gt; padLocation(locationString) Pad the location string to be a uniform width under monospace situations Parameters: Name Type Description locationString string the base location string to pad Source: lib/lib/Relic.js, line 12 Returns: the padded location string Type string × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Classes Classes ComponentHandler Item LocationQuery PrimePart Relic × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation warframe-location-queryA node project for fetching data from http://xenogelion.com/Hidden/Relics.json to give data about relic and prime part drops. Installationnpm install --save warframe-location-queryUsage Require Module File Accessor Description parameters warframe-location-query index.js .getLocationsForComponent Get Query result string for a location lookup query query, callback Environment variables Variable example default LOCATION_MAX_CACHED_TIME 600000 30000 ObjectsRelic name - Components fetched type - Type of the item - relic locations - List of locations where this relic can be found Prime Part name - Components fetched type - Type of the item - Prime part locations - List of relics in which this prime part can be found ducats - Value of priime part in ducats × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"ComponentHandler.html":{"id":"ComponentHandler.html","title":"Class: ComponentHandler","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Class: ComponentHandler ComponentHandler Describe a handler for creating component objects. Presently, these consist of PrimeParts and Relics. new ComponentHandler(Data) Parameters: Name Type Description Data Object to construct objects with Source: lib/ComponentHandler.js, line 11 Members components :Array.&lt;Item&gt; Array of component objects Type: Array.&lt;Item&gt; Source: lib/ComponentHandler.js, line 20 Methods getAll() Array of components generated by this ComponentHandler Source: lib/ComponentHandler.js, line 90 Returns: an array of components generated by this ComponentHandler Type Array.&lt;Item&gt; toString() String representation of the ComponentHandler Source: lib/ComponentHandler.js, line 39 Returns: a stringified list of components created by the component handler. Type string toStringList() Array of component strings generated by this ComponentHandler Source: lib/ComponentHandler.js, line 66 Returns: a list of string representations of results from the query Type Array.&lt;string&gt; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"Item.html":{"id":"Item.html","title":"Class: Item","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Class: Item Item Represents a generic object from the json at http://xenogelion.com/Hidden/Relics.json new Item(data) Parameters: Name Type Description data Object The object data specifying information Source: lib/lib/Item.js, line 6 Methods toString() Returns a string representation of the object Source: lib/lib/Item.js, line 17 Returns: Type string × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:26 using the DocStrap template. "},"LocationQuery.html":{"id":"LocationQuery.html","title":"Class: LocationQuery","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Class: LocationQuery LocationQuery Describes a query against the location data at http://xenogelion.com/Hidden/Relics.json new LocationQuery() Initialize Location query object, create the initial cache of data. Source: index.js, line 15 Methods getLocationsForComponent(query) Get the locations for a component based on the desired query. Parameters: Name Type Description query string Component query to search for the desired component with. Source: index.js, line 29 Returns: Type Promise.&lt;Array.&lt;String&gt;&gt; × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:29 using the DocStrap template. "},"PrimePart.html":{"id":"PrimePart.html","title":"Class: PrimePart","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Class: PrimePart PrimePart Describes a PrimePart Item new PrimePart(data) Parameters: Name Type Description data Object JSON object containing data about this Prime Part Source: lib/lib/Prime.js, line 10 Methods addAll(locations) Add all locations from an array to the locations array Parameters: Name Type Description locations Array.&lt;string&gt; locations to add Source: lib/lib/Prime.js, line 44 addLocation(locationToAdd) Add a location to this PrimePart's list of locations Parameters: Name Type Description locationToAdd string Source: lib/lib/Prime.js, line 26 toString() String representation of this PrimePart Source: lib/lib/Prime.js, line 56 Returns: string of this PrimePart Type string × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:30 using the DocStrap template. "},"Relic.html":{"id":"Relic.html","title":"Class: Relic","body":" json-fetch-cache Classes ComponentHandlerItemLocationQueryPrimePartRelic Global locationsFromJsonpadLocation Class: Relic Relic Describes a Relic Item new Relic(data) Parameters: Name Type Description data Object JSON object containing data about this Relic Source: lib/lib/Relic.js, line 48 Members component :string The component string information, including whether or not it's vaulted Type: string Source: lib/lib/Relic.js, line 59 location Get the location string Source: lib/lib/Relic.js, line 78 locations :Array.&lt;string&gt; List of relic locations, if the relic is vaulted, it's a singleton list with just 'Prime Vault' included Type: Array.&lt;string&gt; Source: lib/lib/Relic.js, line 65 type :string Type of the Item, will always be relic for Relic objects Type: string Source: lib/lib/Relic.js, line 71 Methods toString() String representation of Relic Source: lib/lib/Relic.js, line 86 Returns: Type string × Search results Close Documentation generated by JSDoc 3.4.2 on Wednesday, October 19th 2016, 17:01:30 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
